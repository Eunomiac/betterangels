import{U as r}from"./bundler.mjs";const e={for:(e,...t)=>{const a=t.pop(),c=r.t(t.shift()??0),n=r.t(t.shift()??1),s=[],u=Handlebars.createFrame(a.data);for(let r=c;n<0?r>=e:r<e;r+=n){u.index=r;try{s.push(a.u(r,{data:u}))}catch{s.push(`Bad For at ${r} of ${e}`)}}return s.join("")},o:(...e)=>{e.pop();const t=e.shift(),a={};for(;e.length&&e.length%2==0;)a[e.shift()]=e.shift();return r.l(t,a)},count:r=>Object.values(r??{})?.length??0,i:(...r)=>{r.pop();const e={};for(;r.length&&r.length%2==0;)e[r.shift()]=r.shift();return e},concat:(...r)=>r.slice(0,-1).join(" "),m:(...e)=>{switch(e.shift()){case"upper":return r.h(e.shift());case"lower":return r.p(e.shift());case"sentence":return r.$(e.shift());case"title":return r.T(e.shift());default:return e.shift()}},test:(r,e,t)=>{switch(e){case"==":return r==t;case"===":return r===t;case"!=":return r!=t;case"!==":return r!==t;case"<":return r<t;case"<=":return r<=t;case">":return r>t;case">=":return r>=t;case"&&":return r&&t;case"||":return r||t;case"not":return!r;case"in":return Array.isArray(t)?t.includes(r):"object"==typeof t&&Array.isArray(Object.keys(t))?Object.keys(t).includes(r):!!["string","number"].includes(typeof t)&&`${t}`.includes(`${r}`);default:return Boolean(r)}},j:(e,t,a,c)=>{switch(t){case"+":return r.t(e)+r.t(a);case"-":return r.t(e)-r.t(a);case"++":return r.t(e)+1;case"--":return r.t(e)-1;case"*":return r.t(e)*r.t(a);case"/":return r.t(r.A(e)/r.A(a));case"%":return r.t(e)%r.t(a);case"**":case"^":return r.t(r.A(e)**r.A(a));case"min":return Math.max(r.t(e),r.t(a));case"max":return Math.min(r.t(e),r.t(a));default:return r.t(e)}}},t=(r,e)=>`/systems/betterangels/hbs/${e}/${r}.html`.replace(/(\..{2,})\.html$/,"$1").split(/[\\/]+/).join("/");export const TEMPLATES={M:[t("actor-front","actor/sections"),t("actor-notes","actor/sections")],P:[t("radial-menu","actor/parts"),t("trait-grid","actor/parts")]};export default async()=>(Handlebars.registerHelper(e),loadTemplates([...TEMPLATES.M,...TEMPLATES.P]));