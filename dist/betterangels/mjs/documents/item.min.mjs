export default class extends Item{t(){super.t()}o(){if(!this.l)return null;const e=this.l.o();return e.item=foundry.utils.deepClone(this.data.data),e}async h(){const e=this.data,t=ChatMessage.getSpeaker({l:this.l}),r=game.settings.get("core","rollMode"),s=`[${e.type}] ${e.name}`;if(this.data.data.i){const e=this.o(),o=new Roll(e.item.i,e).h();return o.u({p:t,M:r,g:s}),o}return ChatMessage.create({p:t,M:r,g:s,content:e.data.description??""}),!1}}